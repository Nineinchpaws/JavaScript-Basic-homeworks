<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 05</title>
</head>

<body>
    <!-- <pre>
        Задание:
        Напишите сценарии игры 'Угадай число'". 
        Суть игры - угадать за меньшее количество попыток число, которое загадал сценарий.
        Каждый раз, когда игрок пытается угадать число, сценарий выводит подсказку - меньшее или большее число было загадано сценарием.
        Сценарий загадывает число только один раз в начале игры и это число не меняется до завершения игры.
        При завершении игры выведите пользователю информацию о том, с какой попытки угадано значение и сколько было потрачено на это времени.

        Для генерации случайного числа используйте следующий код:
        let randomValue = Math.floor(Math.random() * 101); // случайное значение от 0 до 100 будет записано в переменную randomValue
        
        Пример игры:
        Сценарий: я загадал случайное значение от 0 до 100
        Пользователь: 50
        Сценарий: я загадал значение больше, чем 50
        Пользователь: 75
        Сценарий: я загадал значение меньше, чем 75
        Пользователь: 62
        Сценарий: я загадал значение меньше, чем 62
        Пользователь: 56
        Сценарий: Правильно! Загаданное значение 56. Вы угадали с 4й попытки за 10 сек.
    </pre> -->

    <script>
        let randomValue = Math.floor(Math.random() * 101); 
        let attempts = 0;
        let startTime = new Date();

        function guessNumber() {
            let userInput = prompt("Угадайте число от 0 до 100:");

            if (userInput === null) {
                return;
            }

            attempts++;

            let userNumber = parseInt(userInput);

            if (isNaN(userNumber)) {
                alert("Введите число!");
                guessNumber();
                return;
            }

            if (userNumber === randomValue) {
                let endTime = new Date();
                let timeDiff = endTime - startTime;
                let seconds = Math.round(timeDiff / 1000);

                alert(`Правильно! Загаданное значение ${randomValue}. Вы угадали с ${attempts}й попытки за ${seconds} сек.`);
            } else if (userNumber < randomValue) {
                alert("Я загадал значение больше, чем вы ввели.");
                guessNumber();
            } else {
                alert("Я загадал значение меньше, чем вы ввели.");
                guessNumber();
            }
        }

        guessNumber();
    </script>

</body>

</html>